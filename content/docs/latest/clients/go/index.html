<!DOCTYPE html>

<!--

    Licensed to the Apache Software Foundation (ASF) under one
    or more contributor license agreements.  See the NOTICE file
    distributed with this work for additional information
    regarding copyright ownership.  The ASF licenses this file
    to you under the Apache License, Version 2.0 (the
    "License"); you may not use this file except in compliance
    with the License.  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing,
    software distributed under the License is distributed on an
    "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, either express or implied.  See the License for the
    specific language governing permissions and limitations
    under the License.

-->

<html>
  <head>
    <!--

    Licensed to the Apache Software Foundation (ASF) under one
    or more contributor license agreements.  See the NOTICE file
    distributed with this work for additional information
    regarding copyright ownership.  The ASF licenses this file
    to you under the Apache License, Version 2.0 (the
    "License"); you may not use this file except in compliance
    with the License.  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing,
    software distributed under the License is distributed on an
    "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, either express or implied.  See the License for the
    specific language governing permissions and limitations
    under the License.

-->
<title>The Pulsar Go client</title>

<meta charset="utf-8">

<link rel="stylesheet" href="/css/style.css">
<link rel="shortcut icon" href="/img/favicon.ico">

<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js"></script>
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script>
<script src="/js/jquery.tocify.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js" integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn" crossorigin="anonymous"></script>

<script src="/js/jquery.scrollTo.min.js"></script>
<script async src="/js/main.js"></script>

  </head>
  <body class="body">
    <main class="main">
      <!--

    Licensed to the Apache Software Foundation (ASF) under one
    or more contributor license agreements.  See the NOTICE file
    distributed with this work for additional information
    regarding copyright ownership.  The ASF licenses this file
    to you under the Apache License, Version 2.0 (the
    "License"); you may not use this file except in compliance
    with the License.  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing,
    software distributed under the License is distributed on an
    "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, either express or implied.  See the License for the
    specific language governing permissions and limitations
    under the License.

-->

<nav class="navbar navbar-toggleable-md navbar-light sticky-top">
  <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  
  <a class="navbar-brand" href="/">
    <img class="main-logo" src="/img/pulsar-logo.png" alt="Pulsar logo">
  </a>
  

  <a class="navbar-nav"></a>

  <div class="collapse navbar-collapse justify-content-end" id="navbarNavDropdown">
    <ul class="navbar-nav">
      <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle" href="#" id="clientLibsDropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Documentation</a>

        <div class="dropdown-menu" aria-labelledby="documentationDropdown">
          <a class="dropdown-item" href="/docs/latest/getting-started/LocalCluster">Latest</a>

          <div class="dropdown-divider"></div>
          <h3 class="dropdown-header">Stable release</h3>
          <a class="dropdown-item" href="/docs/v2.0.1-incubating/getting-started/LocalCluster">2.0.1-incubating</a>

          
              <div class="dropdown-divider"></div>
              <h3 class="dropdown-header">Other releases</h3>

              
                  <a class="dropdown-item" href="/docs/v1.22.1-incubating/getting-started/LocalCluster">1.22.1-incubating</a>
              
                  <a class="dropdown-item" href="/docs/v2.0.0-rc1-incubating/getting-started/LocalCluster">2.0.0-rc1-incubating</a>
              
                  <a class="dropdown-item" href="/docs/v1.22.0-incubating/getting-started/LocalCluster">1.22.0-incubating</a>
              
                  <a class="dropdown-item" href="/docs/v1.21.0-incubating/getting-started/LocalCluster">1.21.0-incubating</a>
              
                  <a class="dropdown-item" href="/docs/v1.20.0-incubating/getting-started/LocalCluster">1.20.0-incubating</a>
              
                  <a class="dropdown-item" href="/docs/v1.19.0-incubating/getting-started/LocalCluster">1.19.0-incubating</a>
              
          
        </div>
      </li>

      <li class="nav-item">
          <a class="nav-link" href="/download">Download</a>
      </li>

      <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle" href="#" id="clientLibsDropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          Client libraries
        </a>
        <div class="dropdown-menu" aria-labelledby="clientLibsDropdown">
          <a class="dropdown-item" href="/docs/latest/clients/Java">
            Java
          </a>
          <a class="dropdown-item" href="/docs/latest/clients/go">
            Go
          </a>
          <a class="dropdown-item" href="/docs/latest/clients/Python">
            Python
          </a>
          <a class="dropdown-item" href="/docs/latest/clients/Cpp">
            C++
          </a>
          <div class="dropdown-divider"></div>
          <a class="dropdown-item" href="/api/client">
            Java client Javadoc
          </a>
          <a class="dropdown-item" href="/api/admin">
            Java admin Javadoc
          </a>
          <a class="dropdown-item" href="https://godoc.org/github.com/apache/incubator-pulsar/pulsar-client-go/pulsar">
            GoDoc
          </a>
          <a class="dropdown-item" href="/api/pulsar-functions">
            Pulsar Functions Java SDK
          </a>
          <a class="dropdown-item" href="/api/python">
            Python API docs
          </a>
          <a class="dropdown-item" href="/api/cpp">
            C++ API docs
          </a>
        </div>
      </li>

      <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle" href="#" id="versionsDropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          Community
        </a>
        <div class="dropdown-menu dropdown-left" aria-labelledby="versionsDropdown">
          <h3 class="dropdown-header">Get in touch</h3>
          <a class="dropdown-item" href="/contact">Contact</a>
          <a class="dropdown-item" href="/events/current-event">Events</a>
          <a class="dropdown-item" href="https://twitter.com/Apache_Pulsar">Twitter</a>
          <a class="dropdown-item" href="https://github.com/apache/incubator-pulsar/wiki">Wiki</a>
          <a class="dropdown-item" href="https://github.com/apache/incubator-pulsar/issues">Issue tracking</a>
          <div class="dropdown-divider"></div>
          <h3 class="dropdown-header">Resources</h3>
          <a class="dropdown-item" href="/resources">Resources</a>
          <a class="dropdown-item" href="/team">Team</a>
          <div class="dropdown-divider"></div>
          <h3 class="dropdown-header">Apache</h3>
          <a class="dropdown-item" href="https://www.apache.org/">The Apache Software Foundation</a>
          <a class="dropdown-item" href="https://www.apache.org/licenses/">License</a>
          <a class="dropdown-item" href="https://www.apache.org/foundation/sponsorship.html">Sponsorship</a>
          <a class="dropdown-item" href="https://www.apache.org/foundation/thanks.html">Thanks</a>
          <a class="dropdown-item" href="https://www.apache.org/security">Security</a>
        </div>
      </li>
    </ul>
  </div>
  <a class="hidden-md-down" href="http://www.apache.org/">
    <img class="asf-logo" title="Apache Software Foundation" src="/img/feather.png" />
  </a>
</nav>

<!--
<nav class="navbar navbar-toggleable-md navbar-light" style="border: 1px solid red;">
  <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  <a class="navbar-brand" href="/">
    <img src="/img/pulsar-logo.png" class="d-inline-block align-top" alt="Pulsar logo" height="40" width="60">
  </a>

  <div class="collapse navbar-collapse" id="navbarSupportedContent">
    <ul class="navbar-nav mr-auto">
      <li class="nav-item active">
        <a class="nav-link" href="#">Home <span class="sr-only">(current)</span></a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="#">Link</a>
      </li>
      <li class="nav-item">
        <a class="nav-link disabled" href="#">Disabled</a>
      </li>
    </ul>
  </div>
</nav>-->


      <main>
        <!--

    Licensed to the Apache Software Foundation (ASF) under one
    or more contributor license agreements.  See the NOTICE file
    distributed with this work for additional information
    regarding copyright ownership.  The ASF licenses this file
    to you under the Apache License, Version 2.0 (the
    "License"); you may not use this file except in compliance
    with the License.  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing,
    software distributed under the License is distributed on an
    "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, either express or implied.  See the License for the
    specific language governing permissions and limitations
    under the License.

-->


<div class="docs-container container-fluid">
  <div class="row">
    <nav class="sidebar-nav hidden-md-down col-lg-3">
      <!--

    Licensed to the Apache Software Foundation (ASF) under one
    or more contributor license agreements.  See the NOTICE file
    distributed with this work for additional information
    regarding copyright ownership.  The ASF licenses this file
    to you under the Apache License, Version 2.0 (the
    "License"); you may not use this file except in compliance
    with the License.  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing,
    software distributed under the License is distributed on an
    "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, either express or implied.  See the License for the
    specific language governing permissions and limitations
    under the License.

-->


<aside class="sidebar-nav">
  <div id="sidebar-accordion" role="tablist" aria-multiselectable="true">
    
    
    <div class="card">
      <div class="card-header" role="tab" id="heading-getting-started">
        <h5>
          <a data-toggle="collapse" data-parent="#sidebar-accordion" href="#collapse-getting-started" aria-controls="collapse-getting-started">
            Getting started
          </a>
        </h5>
      </div>

      <div class="sidebar-group collapse" id="collapse-getting-started" role="tabpanel" aria-labelledby="heading-getting-started">
        <ul>
          
          
          <li>
            <a href="../../getting-started/Pulsar-2.0">
              Pulsar 2.0
            </a>
          </li>
          
          
          <li>
            <a href="../../getting-started/LocalCluster">
              Run Pulsar locally
            </a>
          </li>
          
          
          <li>
            <a href="../../getting-started/docker">
              Pulsar in Docker
            </a>
          </li>
          
          
          <li>
            <a href="../../getting-started/Clients">
              Client libraries
            </a>
          </li>
          
          
          <li>
            <a href="../../getting-started/ConceptsAndArchitecture">
              Concepts and architecture
            </a>
          </li>
          
        </ul>
      </div>
    </div>
    
    
    <div class="card">
      <div class="card-header" role="tab" id="heading-pulsar-functions">
        <h5>
          <a data-toggle="collapse" data-parent="#sidebar-accordion" href="#collapse-pulsar-functions" aria-controls="collapse-pulsar-functions">
            Pulsar Functions
          </a>
        </h5>
      </div>

      <div class="sidebar-group collapse" id="collapse-pulsar-functions" role="tabpanel" aria-labelledby="heading-pulsar-functions">
        <ul>
          
          
          <li>
            <a href="../../functions/overview">
              Pulsar Functions overview
            </a>
          </li>
          
          
          <li>
            <a href="../../functions/quickstart">
              Getting started with Pulsar Functions
            </a>
          </li>
          
          
          <li>
            <a href="../../functions/api">
              The Pulsar Functions API
            </a>
          </li>
          
          
          <li>
            <a href="../../functions/deployment">
              Deploying Pulsar Functions
            </a>
          </li>
          
          
          <li>
            <a href="../../functions/guarantees">
              Processing guarantees
            </a>
          </li>
          
          
          <li>
            <a href="../../functions/metrics">
              Metrics for Pulsar Functions
            </a>
          </li>
          
        </ul>
      </div>
    </div>
    
    
    <div class="card">
      <div class="card-header" role="tab" id="heading-pulsar-io">
        <h5>
          <a data-toggle="collapse" data-parent="#sidebar-accordion" href="#collapse-pulsar-io" aria-controls="collapse-pulsar-io">
            Pulsar IO
          </a>
        </h5>
      </div>

      <div class="sidebar-group collapse" id="collapse-pulsar-io" role="tabpanel" aria-labelledby="heading-pulsar-io">
        <ul>
          
          
          <li>
            <a href="../../io/overview">
              Pulsar IO overview
            </a>
          </li>
          
          
          <li>
            <a href="../../io/quickstart">
              Getting started with Pulsar IO
            </a>
          </li>
          
        </ul>
      </div>
    </div>
    
    
    <div class="card">
      <div class="card-header" role="tab" id="heading-deployment">
        <h5>
          <a data-toggle="collapse" data-parent="#sidebar-accordion" href="#collapse-deployment" aria-controls="collapse-deployment">
            Deployment
          </a>
        </h5>
      </div>

      <div class="sidebar-group collapse" id="collapse-deployment" role="tabpanel" aria-labelledby="heading-deployment">
        <ul>
          
          
          <li>
            <a href="../../deployment/aws-cluster">
              Deploy on Amazon Web Services
            </a>
          </li>
          
          
          <li>
            <a href="../../deployment/cluster">
              Single cluster on bare metal
            </a>
          </li>
          
          
          <li>
            <a href="../../deployment/instance">
              Multi-cluster instance on bare metal
            </a>
          </li>
          
          
          <li>
            <a href="../../deployment/Kubernetes">
              Pulsar on Kubernetes
            </a>
          </li>
          
          
          <li>
            <a href="../../deployment/dcos">
              Pulsar on DC/OS
            </a>
          </li>
          
          
          <li>
            <a href="../../deployment/Monitoring">
              Monitoring
            </a>
          </li>
          
        </ul>
      </div>
    </div>
    
    
    <div class="card">
      <div class="card-header" role="tab" id="heading-administration">
        <h5>
          <a data-toggle="collapse" data-parent="#sidebar-accordion" href="#collapse-administration" aria-controls="collapse-administration">
            Administration
          </a>
        </h5>
      </div>

      <div class="sidebar-group collapse" id="collapse-administration" role="tabpanel" aria-labelledby="heading-administration">
        <ul>
          
          
          <li>
            <a href="../../admin/ZooKeeperBookKeeper">
              ZooKeeper and BookKeeper
            </a>
          </li>
          
          
          <li>
            <a href="../../admin/GeoReplication">
              Geo-replication
            </a>
          </li>
          
          
          <li>
            <a href="../../admin/Dashboard">
              Dashboard
            </a>
          </li>
          
          
          <li>
            <a href="../../admin/Stats">
              Pulsar statistics
            </a>
          </li>
          
          
          <li>
            <a href="../../admin/LoadDistribution">
              Load distribution
            </a>
          </li>
          
          
          <li>
            <a href="../../admin/Proxy">
              Pulsar proxy
            </a>
          </li>
          
        </ul>
      </div>
    </div>
    
    
    <div class="card">
      <div class="card-header" role="tab" id="heading-security">
        <h5>
          <a data-toggle="collapse" data-parent="#sidebar-accordion" href="#collapse-security" aria-controls="collapse-security">
            Security
          </a>
        </h5>
      </div>

      <div class="sidebar-group collapse" id="collapse-security" role="tabpanel" aria-labelledby="heading-security">
        <ul>
          
          
          <li>
            <a href="../../security/overview">
              Overview
            </a>
          </li>
          
          
          <li>
            <a href="../../security/tls-transport">
              Transport Encryption with TLS
            </a>
          </li>
          
          
          <li>
            <a href="../../security/tls">
              Authentication using TLS
            </a>
          </li>
          
          
          <li>
            <a href="../../security/athenz">
              Authentication using Athenz
            </a>
          </li>
          
          
          <li>
            <a href="../../security/authorization">
              Authorization and ACLs
            </a>
          </li>
          
          
          <li>
            <a href="../../security/encryption">
              End-to-End Encryption
            </a>
          </li>
          
          
          <li>
            <a href="../../security/extending">
              Extending Authentication and Authorization
            </a>
          </li>
          
        </ul>
      </div>
    </div>
    
    
    <div class="card">
      <div class="card-header" role="tab" id="heading-client-libraries">
        <h5>
          <a data-toggle="collapse" data-parent="#sidebar-accordion" href="#collapse-client-libraries" aria-controls="collapse-client-libraries">
            Client libraries
          </a>
        </h5>
      </div>

      <div class="sidebar-group collapse" id="collapse-client-libraries" role="tabpanel" aria-labelledby="heading-client-libraries">
        <ul>
          
          
          <li>
            <a href="../../clients/Java">
              Java client
            </a>
          </li>
          
          
          <li>
            <a href="../../clients/go">
              Go client
            </a>
          </li>
          
          
          <li>
            <a href="../../clients/Python">
              Python client
            </a>
          </li>
          
          
          <li>
            <a href="../../clients/Cpp">
              C++ client
            </a>
          </li>
          
          
          <li>
            <a href="../../clients/WebSocket">
              WebSocket API
            </a>
          </li>
          
        </ul>
      </div>
    </div>
    
    
    <div class="card">
      <div class="card-header" role="tab" id="heading-admin-api">
        <h5>
          <a data-toggle="collapse" data-parent="#sidebar-accordion" href="#collapse-admin-api" aria-controls="collapse-admin-api">
            Admin API
          </a>
        </h5>
      </div>

      <div class="sidebar-group collapse" id="collapse-admin-api" role="tabpanel" aria-labelledby="heading-admin-api">
        <ul>
          
          
          <li>
            <a href="../../admin-api/overview">
              Overview
            </a>
          </li>
          
          
          <li>
            <a href="../../admin-api/clusters">
              Clusters
            </a>
          </li>
          
          
          <li>
            <a href="../../admin-api/tenants">
              Tenants
            </a>
          </li>
          
          
          <li>
            <a href="../../admin-api/brokers">
              Brokers
            </a>
          </li>
          
          
          <li>
            <a href="../../admin-api/namespaces">
              Namespaces
            </a>
          </li>
          
          
          <li>
            <a href="../../admin-api/permissions">
              Permissions
            </a>
          </li>
          
          
          <li>
            <a href="../../admin-api/persistent-topics">
              Persistent topics
            </a>
          </li>
          
          
          <li>
            <a href="../../admin-api/non-persistent-topics">
              Non-Persistent topics
            </a>
          </li>
          
          
          <li>
            <a href="../../admin-api/partitioned-topics">
              Partitioned topics
            </a>
          </li>
          
        </ul>
      </div>
    </div>
    
    
    <div class="card">
      <div class="card-header" role="tab" id="heading-adaptors">
        <h5>
          <a data-toggle="collapse" data-parent="#sidebar-accordion" href="#collapse-adaptors" aria-controls="collapse-adaptors">
            Adaptors
          </a>
        </h5>
      </div>

      <div class="sidebar-group collapse" id="collapse-adaptors" role="tabpanel" aria-labelledby="heading-adaptors">
        <ul>
          
          
          <li>
            <a href="../../adaptors/KafkaWrapper">
              Apache Kafka client wrapper
            </a>
          </li>
          
          
          <li>
            <a href="../../adaptors/PulsarSpark">
              Spark Streaming
            </a>
          </li>
          
          
          <li>
            <a href="../../adaptors/PulsarStorm">
              Apache Storm
            </a>
          </li>
          
        </ul>
      </div>
    </div>
    
    
    <div class="card">
      <div class="card-header" role="tab" id="heading-cookbooks">
        <h5>
          <a data-toggle="collapse" data-parent="#sidebar-accordion" href="#collapse-cookbooks" aria-controls="collapse-cookbooks">
            Cookbooks
          </a>
        </h5>
      </div>

      <div class="sidebar-group collapse" id="collapse-cookbooks" role="tabpanel" aria-labelledby="heading-cookbooks">
        <ul>
          
          
          <li>
            <a href="../../cookbooks/tiered-storage">
              Tiered Storage
            </a>
          </li>
          
          
          <li>
            <a href="../../cookbooks/compaction">
              Topic compaction
            </a>
          </li>
          
          
          <li>
            <a href="../../cookbooks/message-deduplication">
              Managing message deduplication
            </a>
          </li>
          
          
          <li>
            <a href="../../cookbooks/non-persistent-messaging">
              Non-persistent messaging
            </a>
          </li>
          
          
          <li>
            <a href="../../cookbooks/PartitionedTopics">
              Partitioned topics
            </a>
          </li>
          
          
          <li>
            <a href="../../cookbooks/RetentionExpiry">
              Retention and expiry
            </a>
          </li>
          
          
          <li>
            <a href="../../cookbooks/Encryption">
              Encryption
            </a>
          </li>
          
          
          <li>
            <a href="../../cookbooks/message-queue">
              Using Pulsar as a message queue
            </a>
          </li>
          
        </ul>
      </div>
    </div>
    
    
    <div class="card">
      <div class="card-header" role="tab" id="heading-developing-pulsar">
        <h5>
          <a data-toggle="collapse" data-parent="#sidebar-accordion" href="#collapse-developing-pulsar" aria-controls="collapse-developing-pulsar">
            Developing Pulsar
          </a>
        </h5>
      </div>

      <div class="sidebar-group collapse" id="collapse-developing-pulsar" role="tabpanel" aria-labelledby="heading-developing-pulsar">
        <ul>
          
          
          <li>
            <a href="../../project/SimulationTools">
              Simulation tools
            </a>
          </li>
          
          
          <li>
            <a href="../../project/BinaryProtocol">
              Pulsar binary protocol
            </a>
          </li>
          
          
          <li>
            <a href="../../project/Codebase">
              Codebase
            </a>
          </li>
          
          
          <li>
            <a href="../../project/schema-storage">
              Custom schema storage
            </a>
          </li>
          
          
          <li>
            <a href="../../project/ModularLoadManager">
              Modular load manager
            </a>
          </li>
          
          
          <li>
            <a href="../../project/CompileCpp">
              Building Pulsar C++ client
            </a>
          </li>
          
        </ul>
      </div>
    </div>
    
    
    <div class="card">
      <div class="card-header" role="tab" id="heading-reference">
        <h5>
          <a data-toggle="collapse" data-parent="#sidebar-accordion" href="#collapse-reference" aria-controls="collapse-reference">
            Reference
          </a>
        </h5>
      </div>

      <div class="sidebar-group collapse" id="collapse-reference" role="tabpanel" aria-labelledby="heading-reference">
        <ul>
          
          
          <li>
            <a href="../../reference/RestApi">
              Pulsar REST API
            </a>
          </li>
          
          
          <li>
            <a href="../../reference/CliTools">
              Command-line tools
            </a>
          </li>
          
          
          <li>
            <a href="../../reference/Configuration">
              Pulsar configuration
            </a>
          </li>
          
        </ul>
      </div>
    </div>
    
  </div>
</aside>


    </nav>

    <article class="col-xs-12 col-sm-12 col-md-12 col-lg-7">
      <section class="docs-header">
        <h1 class="docs-title">
          The Pulsar Go client
          
          
        </h1>
        
        <section class="tags">
          
          <!-- <span class="badge badge-pill badge-primary">client</span> -->
          <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#modal-client">client</button>
          <!--

    Licensed to the Apache Software Foundation (ASF) under one
    or more contributor license agreements.  See the NOTICE file
    distributed with this work for additional information
    regarding copyright ownership.  The ASF licenses this file
    to you under the Apache License, Version 2.0 (the
    "License"); you may not use this file except in compliance
    with the License.  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing,
    software distributed under the License is distributed on an
    "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, either express or implied.  See the License for the
    specific language governing permissions and limitations
    under the License.

-->
<div class="modal fade" id="modal-client">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Pages with the <strong>client</strong> tag</h5>
      </div>
      <div class="modal-body">
        <ul>
          
          
          
          
          
          
          
          
          
          
          <li><a href="/docs/latest/reference/CliTools/">Pulsar command-line tools</a></li>
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          <li><a href="/docs/latest/project/CompileCpp/">Building Pulsar C++ client</a></li>
          
          
          
          
          
          
          
          
          
          
          
          <li><a href="/docs/latest/clients/Cpp/">The Pulsar C++ client</a></li>
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          <li><a href="/docs/latest/clients/Java/">The Pulsar Java client</a></li>
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          <li><a href="/docs/latest/clients/Python/">The Pulsar Python client</a></li>
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          <li><a href="/docs/latest/clients/go/">The Pulsar Go client</a></li>
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
        </ul>
      </div>
    </div>
  </div>
</div>

          
          <!-- <span class="badge badge-pill badge-primary">go</span> -->
          <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#modal-go">go</button>
          <!--

    Licensed to the Apache Software Foundation (ASF) under one
    or more contributor license agreements.  See the NOTICE file
    distributed with this work for additional information
    regarding copyright ownership.  The ASF licenses this file
    to you under the Apache License, Version 2.0 (the
    "License"); you may not use this file except in compliance
    with the License.  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing,
    software distributed under the License is distributed on an
    "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, either express or implied.  See the License for the
    specific language governing permissions and limitations
    under the License.

-->
<div class="modal fade" id="modal-go">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Pages with the <strong>go</strong> tag</h5>
      </div>
      <div class="modal-body">
        <ul>
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          <li><a href="/docs/latest/clients/go/">The Pulsar Go client</a></li>
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
        </ul>
      </div>
    </div>
  </div>
</div>

          
          <!-- <span class="badge badge-pill badge-primary">golang</span> -->
          <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#modal-golang">golang</button>
          <!--

    Licensed to the Apache Software Foundation (ASF) under one
    or more contributor license agreements.  See the NOTICE file
    distributed with this work for additional information
    regarding copyright ownership.  The ASF licenses this file
    to you under the Apache License, Version 2.0 (the
    "License"); you may not use this file except in compliance
    with the License.  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing,
    software distributed under the License is distributed on an
    "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, either express or implied.  See the License for the
    specific language governing permissions and limitations
    under the License.

-->
<div class="modal fade" id="modal-golang">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Pages with the <strong>golang</strong> tag</h5>
      </div>
      <div class="modal-body">
        <ul>
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          <li><a href="/docs/latest/clients/go/">The Pulsar Go client</a></li>
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
        </ul>
      </div>
    </div>
  </div>
</div>

          
        </section>

        <hr class="hr">
      </section>

      <section class="content">
        <!--

    Licensed to the Apache Software Foundation (ASF) under one
    or more contributor license agreements.  See the NOTICE file
    distributed with this work for additional information
    regarding copyright ownership.  The ASF licenses this file
    to you under the Apache License, Version 2.0 (the
    "License"); you may not use this file except in compliance
    with the License.  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing,
    software distributed under the License is distributed on an
    "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, either express or implied.  See the License for the
    specific language governing permissions and limitations
    under the License.

-->

<p>The Pulsar Go client can be used to create Pulsar <a href="#producers">producers</a>, <a href="#consumers">consumers</a>, and <a href="#readers">readers</a> in Go (aka Golang).</p>

<!--

    Licensed to the Apache Software Foundation (ASF) under one
    or more contributor license agreements.  See the NOTICE file
    distributed with this work for additional information
    regarding copyright ownership.  The ASF licenses this file
    to you under the Apache License, Version 2.0 (the
    "License"); you may not use this file except in compliance
    with the License.  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing,
    software distributed under the License is distributed on an
    "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, either express or implied.  See the License for the
    specific language governing permissions and limitations
    under the License.

-->
<div class="admonition">
  <div class="info">
    <span class="admonition-title"><p>API docs available as well</p>
</span>
    <p>For standard API docs, consult the <a href="https://godoc.org/github.com/apache/incubator-pulsar/pulsar-client-go/pulsar">Godoc</a>.</p>

  </div>
</div>

<h2 id="installation">Installation</h2>

<h3 id="requirements">Requirements</h3>

<p>Pulsar Go client library is based on the C++ client library. Follow
the instructions for <a href="../Cpp">C++ library</a> for installing the binaries
through RPM, Deb or Homebrew packages.</p>

<h3 id="installing-go-package">Installing go package</h3>

<p>You can install the <code class="highlighter-rouge">pulsar</code> library locally using <code class="highlighter-rouge">go get</code>:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>go get <span class="nt">-u</span> github.com/apache/incubator-pulsar/pulsar-client-go/pulsar
</code></pre></div></div>

<p>Once installed locally, you can import it into your project:</p>

<div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span><span class="x"> </span><span class="s">"github.com/apache/incubator-pulsar/pulsar-client-go/pulsar"</span><span class="x">
</span></code></pre></div></div>

<h2 id="urls">Connection URLs</h2>

<!--

    Licensed to the Apache Software Foundation (ASF) under one
    or more contributor license agreements.  See the NOTICE file
    distributed with this work for additional information
    regarding copyright ownership.  The ASF licenses this file
    to you under the Apache License, Version 2.0 (the
    "License"); you may not use this file except in compliance
    with the License.  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing,
    software distributed under the License is distributed on an
    "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, either express or implied.  See the License for the
    specific language governing permissions and limitations
    under the License.

-->

<p>To connect to Pulsar using client libraries, you need to specify a <a href="../../project/BinaryProtocol">Pulsar protocol</a> URL.</p>

<p>Pulsar protocol URLs are assigned to specific <span class="popover-term" tabindex="0" title="What is a cluster?" data-placement="top" data-content="A set of Pulsar brokers and BookKeeper servers (aka bookies). Clusters can reside in different geographical regions and replicate messages to one another in a process called geo-replication." data-toggle="popover" data-trigger="focus">clusters</span>, use the <code class="highlighter-rouge">pulsar</code> scheme and have a default port of 6650. Here’s an example for <code class="highlighter-rouge">localhost</code>:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pulsar://localhost:6650
</code></pre></div></div>

<p>A URL for a production Pulsar cluster may look something like this:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pulsar://pulsar.us-west.example.com:6650
</code></pre></div></div>

<p>If you’re using <a href="../../security/tls">TLS</a> authentication, the URL will look like something like this:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pulsar+ssl://pulsar.us-west.example.com:6651
</code></pre></div></div>

<h2 id="creating-a-client">Creating a client</h2>

<p>In order to interact with Pulsar, you’ll first need a <code class="highlighter-rouge">Client</code> object. You can create a client object using the <code class="highlighter-rouge">NewClient</code> function, passing in a <code class="highlighter-rouge">ClientOptions</code> object (more on configuration <a href="#client-configuration">below</a>). Here’s an example:</p>

<div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span><span class="x"> </span><span class="p">(</span><span class="x">
    </span><span class="s">"log"</span><span class="x">
    </span><span class="s">"runtime"</span><span class="x">

    </span><span class="s">"github.com/apache/incubator-pulsar/pulsar-client-go/pulsar"</span><span class="x">
</span><span class="p">)</span><span class="x">

</span><span class="k">func</span><span class="x"> </span><span class="n">main</span><span class="p">()</span><span class="x"> </span><span class="p">{</span><span class="x">
    </span><span class="n">client</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">pulsar</span><span class="o">.</span><span class="n">NewClient</span><span class="p">(</span><span class="n">pulsar</span><span class="o">.</span><span class="n">ClientOptions</span><span class="p">{</span><span class="x">
        </span><span class="n">URL</span><span class="o">:</span><span class="x"> </span><span class="s">"pulsar://localhost:6650"</span><span class="p">,</span><span class="x">
        </span><span class="n">OperationTimeoutSeconds</span><span class="o">:</span><span class="x"> </span><span class="m">5</span><span class="p">,</span><span class="x">
        </span><span class="n">MessageListenerThreads</span><span class="o">:</span><span class="x"> </span><span class="n">runtime</span><span class="o">.</span><span class="n">NumCPU</span><span class="p">(),</span><span class="x">
    </span><span class="p">})</span><span class="x">

    </span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
        </span><span class="n">log</span><span class="o">.</span><span class="n">Fatalf</span><span class="p">(</span><span class="s">"Could not instantiate Pulsar client: %v"</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="p">)</span><span class="x">
    </span><span class="p">}</span><span class="x">
</span><span class="p">}</span><span class="x">
</span></code></pre></div></div>

<p>The following configurable parameters are available for Pulsar clients:</p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Parameter</th>
      <th style="text-align: left">Description</th>
      <th style="text-align: left">Default</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">URL</code></td>
      <td style="text-align: left">The connection URL for the Pulsar cluster. See <a href="#urls">above</a> for more info</td>
      <td style="text-align: left"> </td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">IOThreads</code></td>
      <td style="text-align: left">The number of threads to use for handling connections to Pulsar <span class="popover-term" tabindex="0" title="What is a broker?" data-placement="top" data-content="A stateless component of Pulsar clusters that runs two other components: an HTTP server exposing a REST interface for administration and topic lookup and a dispatcher that handles all message transers. Pulsar clusters typically consist of multiple brokers." data-toggle="popover" data-trigger="focus">brokers</span></td>
      <td style="text-align: left">1</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">OperationTimeoutSeconds</code></td>
      <td style="text-align: left">The timeout for some Go client operations (creating producers, subscribing to and unsubscribing from <span class="popover-term" tabindex="0" title="What is a topic?" data-placement="top" data-content="A named channel used to pass messages published by producers to consumers who process those messages." data-toggle="popover" data-trigger="focus">topics</span>). Retries will occur until this threshold is reached, at which point the operation will fail.</td>
      <td style="text-align: left">30</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">MessageListenerThreads</code></td>
      <td style="text-align: left">The number of threads used by message listeners (<a href="#consumers">consumers</a> and <a href="#readers">readers</a>)</td>
      <td style="text-align: left">1</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">ConcurrentLookupRequests</code></td>
      <td style="text-align: left">The number of concurrent lookup requests that can be sent on each broker connection. Setting a maximum helps to keep from overloading brokers. You should set values over the default of 5000 only if the client needs to produce and/or subscribe to thousands of Pulsar topics.</td>
      <td style="text-align: left">5000</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Logger</code></td>
      <td style="text-align: left">A custom logger implementation for the client (as a function that takes a log level, file path, line number, and message). All info, warn, and error messages will be routed to this function.</td>
      <td style="text-align: left"><code class="highlighter-rouge">nil</code></td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">TLSTrustCertsFilePath</code></td>
      <td style="text-align: left">The file path for the trusted TLS certificate</td>
      <td style="text-align: left"> </td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">TLSAllowInsecureConnection</code></td>
      <td style="text-align: left">Whether the client accepts untrusted TLS certificates from the broker</td>
      <td style="text-align: left"><code class="highlighter-rouge">false</code></td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Authentication</code></td>
      <td style="text-align: left">Configure the authentication provider. (default: no authentication). Example: <code class="highlighter-rouge">Authentication: NewAuthenticationTLS("my-cert.pem", "my-key.pem")</code></td>
      <td style="text-align: left"><code class="highlighter-rouge">nil</code></td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">StatsIntervalInSeconds</code></td>
      <td style="text-align: left">The interval (in seconds) at which client stats are published</td>
      <td style="text-align: left">60</td>
    </tr>
  </tbody>
</table>

<h2 id="producers">Producers</h2>

<p>Pulsar <span class="popover-term" tabindex="0" title="What is a producer?" data-placement="top" data-content="A process that publishes messages to a Pulsar topic." data-toggle="popover" data-trigger="focus">producers</span> publish messages to Pulsar <span class="popover-term" tabindex="0" title="What is a topic?" data-placement="top" data-content="A named channel used to pass messages published by producers to consumers who process those messages." data-toggle="popover" data-trigger="focus">topics</span>. You can <a href="#producer-configuration">configure</a> Go producers using a <code class="highlighter-rouge">ProducerOptions</code> object. Here’s an example:</p>

<div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">producer</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">CreateProducer</span><span class="p">(</span><span class="n">pulsar</span><span class="o">.</span><span class="n">ProducerOptions</span><span class="p">{</span><span class="x">
    </span><span class="n">Topic</span><span class="o">:</span><span class="x"> </span><span class="s">"my-topic"</span><span class="p">,</span><span class="x">
</span><span class="p">})</span><span class="x">

</span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
    </span><span class="n">log</span><span class="o">.</span><span class="n">Fatalf</span><span class="p">(</span><span class="s">"Could not instantiate Pulsar producer: %v"</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="p">)</span><span class="x">
</span><span class="p">}</span><span class="x">

</span><span class="k">defer</span><span class="x"> </span><span class="n">producer</span><span class="o">.</span><span class="n">Close</span><span class="p">()</span><span class="x">

</span><span class="n">msg</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">pulsar</span><span class="o">.</span><span class="n">ProducerMessage</span><span class="p">{</span><span class="x">
    </span><span class="n">Payload</span><span class="o">:</span><span class="x"> </span><span class="p">[]</span><span class="kt">byte</span><span class="p">(</span><span class="s">"Hello, Pulsar"</span><span class="p">),</span><span class="x">
</span><span class="p">}</span><span class="x">

</span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">producer</span><span class="o">.</span><span class="n">Send</span><span class="p">(</span><span class="n">msg</span><span class="p">);</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
        </span><span class="n">log</span><span class="o">.</span><span class="n">Fatalf</span><span class="p">(</span><span class="s">"Producer could not send message: %v"</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="p">)</span><span class="x">
</span><span class="p">}</span><span class="x">
</span></code></pre></div></div>

<!--

    Licensed to the Apache Software Foundation (ASF) under one
    or more contributor license agreements.  See the NOTICE file
    distributed with this work for additional information
    regarding copyright ownership.  The ASF licenses this file
    to you under the Apache License, Version 2.0 (the
    "License"); you may not use this file except in compliance
    with the License.  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing,
    software distributed under the License is distributed on an
    "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, either express or implied.  See the License for the
    specific language governing permissions and limitations
    under the License.

-->
<div class="admonition">
  <div class="info">
    <span class="admonition-title"><p>Blocking operation</p>
</span>
    <p>When you create a new Pulsar producer, the operation will block (waiting on a go channel) until either a producer is successfully created or an error is thrown.</p>

  </div>
</div>

<h3 id="producer-operations">Producer operations</h3>

<p>Pulsar Go producers have the following methods available:</p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Method</th>
      <th style="text-align: left">Description</th>
      <th style="text-align: left">Return type</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Topic()</code></td>
      <td style="text-align: left">Fetches the producer’s <span class="popover-term" tabindex="0" title="What is a topic?" data-placement="top" data-content="A named channel used to pass messages published by producers to consumers who process those messages." data-toggle="popover" data-trigger="focus">topic</span></td>
      <td style="text-align: left"><code class="highlighter-rouge">string</code></td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Name()</code></td>
      <td style="text-align: left">Fetchs the producer’s name</td>
      <td style="text-align: left"><code class="highlighter-rouge">string</code></td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Send(context.Context, ProducerMessage) error</code></td>
      <td style="text-align: left">Publishes a <a href="#messages">message</a> to the producer’s topic. This call will block until the message is successfully acknowledged by the Pulsar broker, or an error will be thrown if the timeout set using the <code class="highlighter-rouge">SendTimeout</code> in the producer’s <a href="#producer-configuration">configuration</a> is exceeded.</td>
      <td style="text-align: left"><code class="highlighter-rouge">error</code></td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">SendAsync(context.Context, ProducerMessage, func(ProducerMessage, error))</code></td>
      <td style="text-align: left">Publishes a <a href="#messages">message</a> to the producer’s topic asynchronously. The third argument is a callback function that specifies what happens either when the message is acknowledged or an error is thrown.</td>
      <td style="text-align: left"> </td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Close()</code></td>
      <td style="text-align: left">Closes the producer and releases all resources allocated to it. If <code class="highlighter-rouge">Close()</code> is called then no more messages will be accepted from the publisher. This method will block until all pending publish requests have been persisted by Pulsar. If an error is thrown, no pending writes will be retried.</td>
      <td style="text-align: left"><code class="highlighter-rouge">error</code></td>
    </tr>
  </tbody>
</table>

<p>Here’s a more involved example usage of a producer:</p>

<div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span><span class="x"> </span><span class="p">(</span><span class="x">
    </span><span class="s">"context"</span><span class="x">
    </span><span class="s">"fmt"</span><span class="x">

    </span><span class="s">"github.com/apache/incubator-pulsar/pulsar-client-go/pulsar"</span><span class="x">
</span><span class="p">)</span><span class="x">

</span><span class="k">func</span><span class="x"> </span><span class="n">main</span><span class="p">()</span><span class="x"> </span><span class="p">{</span><span class="x">
    </span><span class="c">// Instantiate a Pulsar client</span><span class="x">
    </span><span class="n">client</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">pulsar</span><span class="o">.</span><span class="n">NewClient</span><span class="p">(</span><span class="n">pulsar</span><span class="o">.</span><span class="n">ClientOptions</span><span class="p">{</span><span class="x">
        </span><span class="n">URL</span><span class="o">:</span><span class="x"> </span><span class="s">"pulsar://localhost:6650"</span><span class="p">,</span><span class="x">
    </span><span class="p">})</span><span class="x">

    </span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x"> </span><span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x"> </span><span class="p">}</span><span class="x">

    </span><span class="c">// Use the client to instantiate a producer</span><span class="x">
    </span><span class="n">producer</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">CreateProducer</span><span class="p">(</span><span class="n">pulsar</span><span class="o">.</span><span class="n">ProducerOptions</span><span class="p">{</span><span class="x">
        </span><span class="n">Topic</span><span class="o">:</span><span class="x"> </span><span class="s">"my-topic"</span><span class="p">,</span><span class="x">
    </span><span class="p">})</span><span class="x">

    </span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x"> </span><span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x"> </span><span class="p">}</span><span class="x">

    </span><span class="n">ctx</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">context</span><span class="o">.</span><span class="n">Background</span><span class="p">()</span><span class="x">

    </span><span class="c">// Send 10 messages synchronously and 10 messages asynchronously</span><span class="x">
    </span><span class="k">for</span><span class="x"> </span><span class="n">i</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="m">0</span><span class="p">;</span><span class="x"> </span><span class="n">i</span><span class="x"> </span><span class="o">&lt;</span><span class="x"> </span><span class="m">10</span><span class="p">;</span><span class="x"> </span><span class="n">i</span><span class="o">++</span><span class="x"> </span><span class="p">{</span><span class="x">
        </span><span class="c">// Create a message</span><span class="x">
        </span><span class="n">msg</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">pulsar</span><span class="o">.</span><span class="n">ProducerMessage</span><span class="p">{</span><span class="x">
            </span><span class="n">Payload</span><span class="o">:</span><span class="x"> </span><span class="p">[]</span><span class="kt">byte</span><span class="p">(</span><span class="n">fmt</span><span class="o">.</span><span class="n">Sprintf</span><span class="p">(</span><span class="s">"message-%d"</span><span class="p">,</span><span class="x"> </span><span class="n">i</span><span class="p">)),</span><span class="x">
        </span><span class="p">}</span><span class="x">

        </span><span class="c">// Attempt to send the message</span><span class="x">
        </span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">producer</span><span class="o">.</span><span class="n">Send</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span><span class="x"> </span><span class="n">msg</span><span class="p">);</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
            </span><span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x">
        </span><span class="p">}</span><span class="x">

        </span><span class="c">// Create a different message to send asynchronously</span><span class="x">
        </span><span class="n">asyncMsg</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">pulsar</span><span class="o">.</span><span class="n">ProducerMessage</span><span class="p">{</span><span class="x">
            </span><span class="n">Payload</span><span class="o">:</span><span class="x"> </span><span class="p">[]</span><span class="kt">byte</span><span class="p">(</span><span class="n">fmt</span><span class="o">.</span><span class="n">Sprintf</span><span class="p">(</span><span class="s">"async-message-%d"</span><span class="p">,</span><span class="x"> </span><span class="n">i</span><span class="p">)),</span><span class="x">
        </span><span class="p">}</span><span class="x">

        </span><span class="c">// Attempt to send the message asynchronously and handle the response</span><span class="x">
        </span><span class="n">producer</span><span class="o">.</span><span class="n">SendAsync</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span><span class="x"> </span><span class="n">asyncMsg</span><span class="p">,</span><span class="x"> </span><span class="k">func</span><span class="p">(</span><span class="n">msg</span><span class="x"> </span><span class="n">pulsar</span><span class="o">.</span><span class="n">ProducerMessage</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="kt">error</span><span class="p">)</span><span class="x"> </span><span class="p">{</span><span class="x">
            </span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x"> </span><span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x"> </span><span class="p">}</span><span class="x">

            </span><span class="n">fmt</span><span class="o">.</span><span class="n">Printf</span><span class="p">(</span><span class="s">"Message %s successfully published"</span><span class="p">,</span><span class="x"> </span><span class="n">msg</span><span class="o">.</span><span class="n">Payload</span><span class="p">)</span><span class="x">
        </span><span class="p">})</span><span class="x">
    </span><span class="p">}</span><span class="x">
</span><span class="p">}</span><span class="x">
</span></code></pre></div></div>

<h3 id="producer-configuration">Producer configuration</h3>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Parameter</th>
      <th style="text-align: left">Description</th>
      <th style="text-align: left">Default</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Topic</code></td>
      <td style="text-align: left">The Pulsar <span class="popover-term" tabindex="0" title="What is a topic?" data-placement="top" data-content="A named channel used to pass messages published by producers to consumers who process those messages." data-toggle="popover" data-trigger="focus">topic</span> to which the producer will publish messages</td>
      <td style="text-align: left"> </td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Name</code></td>
      <td style="text-align: left">A name for the producer. If you don’t explicitly assign a name, Pulsar will automatically generate a globally unique name that you can access later using the <code class="highlighter-rouge">Name()</code> method.  If you choose to explicitly assign a name, it will need to be unique across <em>all</em> Pulsar clusters, otherwise the creation operation will throw an error.</td>
      <td style="text-align: left"> </td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">SendTimeout</code></td>
      <td style="text-align: left">When publishing a message to a topic, the producer will wait for an acknowledgment from the responsible Pulsar <span class="popover-term" tabindex="0" title="What is a broker?" data-placement="top" data-content="A stateless component of Pulsar clusters that runs two other components: an HTTP server exposing a REST interface for administration and topic lookup and a dispatcher that handles all message transers. Pulsar clusters typically consist of multiple brokers." data-toggle="popover" data-trigger="focus">broker</span>. If a message is not acknowledged within the threshold set by this parameter, an error will be thrown. If you set <code class="highlighter-rouge">SendTimeout</code> to -1, the timeout will be set to infinity (and thus removed). Removing the send timeout is recommended when using Pulsar’s <a href="../../cookbooks/message-deduplication">message de-duplication</a> feature.</td>
      <td style="text-align: left">30 seconds</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">MaxPendingMessages</code></td>
      <td style="text-align: left">The maximum size of the queue holding pending messages (i.e. messages waiting to receive an acknowledgment from the <span class="popover-term" tabindex="0" title="What is a broker?" data-placement="top" data-content="A stateless component of Pulsar clusters that runs two other components: an HTTP server exposing a REST interface for administration and topic lookup and a dispatcher that handles all message transers. Pulsar clusters typically consist of multiple brokers." data-toggle="popover" data-trigger="focus">broker</span>). By default, when the queue is full all calls to the <code class="highlighter-rouge">Send</code> and <code class="highlighter-rouge">SendAsync</code> methods will fail <em>unless</em> <code class="highlighter-rouge">BlockIfQueueFull</code> is set to <code class="highlighter-rouge">true</code>.</td>
      <td style="text-align: left"> </td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">MaxPendingMessagesAcrossPartitions</code></td>
      <td style="text-align: left"> </td>
      <td style="text-align: left"> </td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">BlockIfQueueFull</code></td>
      <td style="text-align: left">If set to <code class="highlighter-rouge">true</code>, the producer’s <code class="highlighter-rouge">Send</code> and <code class="highlighter-rouge">SendAsync</code> methods will block when the outgoing message queue is full rather than failing and throwing an error (the size of that queue is dictated by the <code class="highlighter-rouge">MaxPendingMessages</code> parameter); if set to <code class="highlighter-rouge">false</code> (the default), <code class="highlighter-rouge">Send</code> and <code class="highlighter-rouge">SendAsync</code> operations will fail and throw a <code class="highlighter-rouge">ProducerQueueIsFullError</code> when the queue is full.</td>
      <td style="text-align: left"><code class="highlighter-rouge">false</code></td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">MessageRoutingMode</code></td>
      <td style="text-align: left">The message routing logic (for producers on <a href="../../getting-started/ConceptsAndArchitecture#partitioned-topics">partitioned topics</a>). This logic is applied only when no key is set on messages. The available options are: round robin (<code class="highlighter-rouge">pulsar.RoundRobinDistribution</code>, the default), publishing all messages to a single partition (<code class="highlighter-rouge">pulsar.UseSinglePartition</code>), or a custom partitioning scheme (<code class="highlighter-rouge">pulsar.CustomPartition</code>).</td>
      <td style="text-align: left"><code class="highlighter-rouge">pulsar.RoundRobinDistribution</code></td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">HashingScheme</code></td>
      <td style="text-align: left">The hashing function that determines the partition on which a particular message is published (partitioned topics only). The available options are: <code class="highlighter-rouge">pulsar.JavaStringHash</code> (the equivalent of <code class="highlighter-rouge">String.hashCode()</code> in Java), <code class="highlighter-rouge">pulsar.Murmur3_32Hash</code> (applies the <a href="https://en.wikipedia.org/wiki/MurmurHash">Murmur3</a> hashing function), or <code class="highlighter-rouge">pulsar.BoostHash</code> (applies the hashing function from C++’s <a href="https://www.boost.org/doc/libs/1_62_0/doc/html/hash.html">Boost</a> library)</td>
      <td style="text-align: left"><code class="highlighter-rouge">pulsar.JavaStringHash</code></td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">CompressionType</code></td>
      <td style="text-align: left">The message data compression type used by the producer. The available options are <a href="https://github.com/lz4/lz4"><code class="highlighter-rouge">LZ4</code></a> and <a href="https://zlib.net/"><code class="highlighter-rouge">ZLIB</code></a>.</td>
      <td style="text-align: left">No compression</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">MessageRouter</code></td>
      <td style="text-align: left">By default, Pulsar uses a round-robin routing scheme for <a href="../../cookbooks/PartitionedTopics">partitioned topics</a>. The <code class="highlighter-rouge">MessageRouter</code> parameter enables you to specify custom routing logic via a function that takes the Pulsar message and topic metadata as an argument and returns an integer (where the ), i.e. a function signature of <code class="highlighter-rouge">func(Message, TopicMetadata) int</code>.</td>
      <td style="text-align: left"> </td>
    </tr>
  </tbody>
</table>

<h2 id="consumers">Consumers</h2>

<p>Pulsar <span class="popover-term" tabindex="0" title="What is a consumer?" data-placement="top" data-content="A process that establishes a subscription to a Pulsar topic and processes messages published to that topic by producers." data-toggle="popover" data-trigger="focus">consumers</span> subscribe to one or more Pulsar <span class="popover-term" tabindex="0" title="What is a topic?" data-placement="top" data-content="A named channel used to pass messages published by producers to consumers who process those messages." data-toggle="popover" data-trigger="focus">topics</span> and listen for incoming messages produced on that topic/those topics. You can <a href="#consumer-configuration">configure</a> Go consumers using a <code class="highlighter-rouge">ConsumerOptions</code> object. Here’s a basic example that uses channels:</p>

<div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">msgChannel</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="nb">make</span><span class="p">(</span><span class="k">chan</span><span class="x"> </span><span class="n">pulsar</span><span class="o">.</span><span class="n">ConsumerMessage</span><span class="p">)</span><span class="x">

</span><span class="n">consumerOpts</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">pulsar</span><span class="o">.</span><span class="n">ConsumerOptions</span><span class="p">{</span><span class="x">
    </span><span class="n">Topic</span><span class="o">:</span><span class="x">            </span><span class="s">"my-topic"</span><span class="p">,</span><span class="x">
    </span><span class="n">SubscriptionName</span><span class="o">:</span><span class="x"> </span><span class="s">"my-subscription-1"</span><span class="p">,</span><span class="x">
    </span><span class="n">Type</span><span class="o">:</span><span class="x">             </span><span class="n">pulsar</span><span class="o">.</span><span class="n">Exclusive</span><span class="p">,</span><span class="x">
    </span><span class="n">MessageChannel</span><span class="o">:</span><span class="x">   </span><span class="n">msgChannel</span><span class="p">,</span><span class="x">
</span><span class="p">}</span><span class="x">

</span><span class="n">consumer</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Subscribe</span><span class="p">(</span><span class="n">consumerOpts</span><span class="p">)</span><span class="x">

</span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
    </span><span class="n">log</span><span class="o">.</span><span class="n">Fatalf</span><span class="p">(</span><span class="s">"Could not establish subscription: %v"</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="p">)</span><span class="x">
</span><span class="p">}</span><span class="x">

</span><span class="k">defer</span><span class="x"> </span><span class="n">consumer</span><span class="o">.</span><span class="n">Close</span><span class="p">()</span><span class="x">

</span><span class="k">for</span><span class="x"> </span><span class="n">cm</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="k">range</span><span class="x"> </span><span class="n">channel</span><span class="x"> </span><span class="p">{</span><span class="x">
    </span><span class="n">msg</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">cm</span><span class="o">.</span><span class="n">Message</span><span class="x">

    </span><span class="n">fmt</span><span class="o">.</span><span class="n">Printf</span><span class="p">(</span><span class="s">"Message ID: %s"</span><span class="p">,</span><span class="x"> </span><span class="n">msg</span><span class="o">.</span><span class="n">ID</span><span class="p">())</span><span class="x">
    </span><span class="n">fmt</span><span class="o">.</span><span class="n">Printf</span><span class="p">(</span><span class="s">"Message value: %s"</span><span class="p">,</span><span class="x"> </span><span class="kt">string</span><span class="p">(</span><span class="n">msg</span><span class="o">.</span><span class="n">Payload</span><span class="p">()))</span><span class="x">

    </span><span class="n">consumer</span><span class="o">.</span><span class="n">Ack</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span><span class="x">
</span><span class="p">}</span><span class="x">
</span></code></pre></div></div>

<!--

    Licensed to the Apache Software Foundation (ASF) under one
    or more contributor license agreements.  See the NOTICE file
    distributed with this work for additional information
    regarding copyright ownership.  The ASF licenses this file
    to you under the Apache License, Version 2.0 (the
    "License"); you may not use this file except in compliance
    with the License.  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing,
    software distributed under the License is distributed on an
    "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, either express or implied.  See the License for the
    specific language governing permissions and limitations
    under the License.

-->
<div class="admonition">
  <div class="info">
    <span class="admonition-title"><p>Blocking operation</p>
</span>
    <p>When you create a new Pulsar consumer, the operation will block (on a go channel) until either a producer is successfully created or an error is thrown.</p>

  </div>
</div>

<h3 id="consumer-operations">Consumer operations</h3>

<p>Pulsar Go consumers have the following methods available:</p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Method</th>
      <th style="text-align: left">Description</th>
      <th style="text-align: left">Return type</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Topic()</code></td>
      <td style="text-align: left">Returns the consumer’s <span class="popover-term" tabindex="0" title="What is a topic?" data-placement="top" data-content="A named channel used to pass messages published by producers to consumers who process those messages." data-toggle="popover" data-trigger="focus">topic</span></td>
      <td style="text-align: left"><code class="highlighter-rouge">string</code></td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Subscription()</code></td>
      <td style="text-align: left">Returns the consumer’s subscription name</td>
      <td style="text-align: left"><code class="highlighter-rouge">string</code></td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Unsubcribe()</code></td>
      <td style="text-align: left">Unsubscribes the consumer from the assigned topic. Throws an error if the unsubscribe operation is somehow unsuccessful.</td>
      <td style="text-align: left"><code class="highlighter-rouge">error</code></td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Receive(context.Context)</code></td>
      <td style="text-align: left">Receives a single message from the topic. This method blocks until a message is available.</td>
      <td style="text-align: left"><code class="highlighter-rouge">(Message, error)</code></td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Ack(Message)</code></td>
      <td style="text-align: left"><span class="popover-term" tabindex="0" title="What is an acknowledgement (ack)?" data-placement="top" data-content="A message sent to a Pulsar broker by a consumer that a message has been successfully processed. An acknowledgement (ack) is Pulsar's way of knowing that the message can be deleted from the system; if no acknowledgement, then the message will be retained until it's processed." data-toggle="popover" data-trigger="focus">Acknowledges</span> a message to the Pulsar <span class="popover-term" tabindex="0" title="What is a broker?" data-placement="top" data-content="A stateless component of Pulsar clusters that runs two other components: an HTTP server exposing a REST interface for administration and topic lookup and a dispatcher that handles all message transers. Pulsar clusters typically consist of multiple brokers." data-toggle="popover" data-trigger="focus">broker</span></td>
      <td style="text-align: left"><code class="highlighter-rouge">error</code></td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">AckID(MessageID)</code></td>
      <td style="text-align: left"><span class="popover-term" tabindex="0" title="What is an acknowledgement (ack)?" data-placement="top" data-content="A message sent to a Pulsar broker by a consumer that a message has been successfully processed. An acknowledgement (ack) is Pulsar's way of knowing that the message can be deleted from the system; if no acknowledgement, then the message will be retained until it's processed." data-toggle="popover" data-trigger="focus">Acknowledges</span> a message to the Pulsar <span class="popover-term" tabindex="0" title="What is a broker?" data-placement="top" data-content="A stateless component of Pulsar clusters that runs two other components: an HTTP server exposing a REST interface for administration and topic lookup and a dispatcher that handles all message transers. Pulsar clusters typically consist of multiple brokers." data-toggle="popover" data-trigger="focus">broker</span> by message ID</td>
      <td style="text-align: left"><code class="highlighter-rouge">error</code></td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">AckCumulative(Message)</code></td>
      <td style="text-align: left"><span class="popover-term" tabindex="0" title="What is an acknowledgement (ack)?" data-placement="top" data-content="A message sent to a Pulsar broker by a consumer that a message has been successfully processed. An acknowledgement (ack) is Pulsar's way of knowing that the message can be deleted from the system; if no acknowledgement, then the message will be retained until it's processed." data-toggle="popover" data-trigger="focus">Acknowledges</span> <em>all</em> the messages in the stream, up to and including the specified message. The <code class="highlighter-rouge">AckCumulative</code> method will block until the ack has been sent to the broker. After that, the messages will <em>not</em> be redelivered to the consumer. Cumulative acking can only be used with a <a href="../../getting-started/ConceptsAndArchitecture#shared">shared</a> subscription type.</td>
      <td style="text-align: left"> </td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Close()</code></td>
      <td style="text-align: left">Closes the consumer, disabling its ability to receive messages from the broker</td>
      <td style="text-align: left"><code class="highlighter-rouge">error</code></td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">RedeliverUnackedMessages()</code></td>
      <td style="text-align: left">Redelivers <em>all</em> unacknowledged messages on the topic. In <a href="../../getting-started/ConceptsAndArchitecture#failover">failover</a> mode, this request is ignored if the consumer isn’t active on the specified topic; in <a href="../../getting-started/ConceptsAndArchitecture#shared">shared</a> mode, redelivered messages are distributed across all consumers connected to the topic. <strong>Note</strong>: this is a <em>non-blocking</em> operation that doesn’t throw an error.</td>
      <td style="text-align: left"> </td>
    </tr>
  </tbody>
</table>

<h4 id="receive-example">Receive example</h4>

<p>Here’s an example usage of a Go consumer that uses the <code class="highlighter-rouge">Receive()</code> method to process incoming messages:</p>

<div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span><span class="x"> </span><span class="p">(</span><span class="x">
    </span><span class="s">"context"</span><span class="x">
    </span><span class="s">"log"</span><span class="x">

    </span><span class="s">"github.com/apache/incubator-pulsar/pulsar-client-go/pulsar"</span><span class="x">
</span><span class="p">)</span><span class="x">

</span><span class="k">func</span><span class="x"> </span><span class="n">main</span><span class="p">()</span><span class="x"> </span><span class="p">{</span><span class="x">
    </span><span class="c">// Instantiate a Pulsar client</span><span class="x">
    </span><span class="n">client</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">pulsar</span><span class="o">.</span><span class="n">NewClient</span><span class="p">(</span><span class="n">pulsar</span><span class="o">.</span><span class="n">ClientOptions</span><span class="p">{</span><span class="x">
            </span><span class="n">URL</span><span class="o">:</span><span class="x"> </span><span class="s">"pulsar://localhost:6650"</span><span class="p">,</span><span class="x">
    </span><span class="p">})</span><span class="x">

    </span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x"> </span><span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x"> </span><span class="p">}</span><span class="x">

    </span><span class="c">// Use the client object to instantiate a consumer</span><span class="x">
    </span><span class="n">consumer</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Subscribe</span><span class="p">(</span><span class="n">pulsar</span><span class="o">.</span><span class="n">ConsumerOptions</span><span class="p">{</span><span class="x">
        </span><span class="n">Topic</span><span class="o">:</span><span class="x">            </span><span class="s">"my-golang-topic"</span><span class="p">,</span><span class="x">
        </span><span class="n">SubscriptionName</span><span class="o">:</span><span class="x"> </span><span class="s">"sub-1"</span><span class="p">,</span><span class="x">
        </span><span class="n">SubscriptionType</span><span class="o">:</span><span class="x"> </span><span class="n">pulsar</span><span class="o">.</span><span class="n">Exclusive</span><span class="p">,</span><span class="x">
    </span><span class="p">})</span><span class="x">

    </span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x"> </span><span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x"> </span><span class="p">}</span><span class="x">

    </span><span class="k">defer</span><span class="x"> </span><span class="n">consumer</span><span class="o">.</span><span class="n">Close</span><span class="p">()</span><span class="x">

    </span><span class="n">ctx</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">context</span><span class="o">.</span><span class="n">Background</span><span class="p">()</span><span class="x">

    </span><span class="c">// Listen indefinitely on the topic</span><span class="x">
    </span><span class="k">for</span><span class="x"> </span><span class="p">{</span><span class="x">
        </span><span class="n">msg</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">consumer</span><span class="o">.</span><span class="n">Receive</span><span class="p">(</span><span class="n">ctx</span><span class="p">)</span><span class="x">
        </span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x"> </span><span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x"> </span><span class="p">}</span><span class="x">

        </span><span class="c">// Do something with the message</span><span class="x">

        </span><span class="n">consumer</span><span class="o">.</span><span class="n">Ack</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span><span class="x">
    </span><span class="p">}</span><span class="x">
</span><span class="p">}</span><span class="x">
</span></code></pre></div></div>

<h3 id="consumer-configuration">Consumer configuration</h3>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Parameter</th>
      <th style="text-align: left">Description</th>
      <th style="text-align: left">Default</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Topic</code></td>
      <td style="text-align: left">The Pulsar <span class="popover-term" tabindex="0" title="What is a topic?" data-placement="top" data-content="A named channel used to pass messages published by producers to consumers who process those messages." data-toggle="popover" data-trigger="focus">topic</span> on which the consumer will establish a subscription and listen for messages</td>
      <td style="text-align: left"> </td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">SubscriptionName</code></td>
      <td style="text-align: left">The subscription name for this consumer</td>
      <td style="text-align: left"> </td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Name</code></td>
      <td style="text-align: left">The name of the consumer</td>
      <td style="text-align: left"> </td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">AckTimeout</code></td>
      <td style="text-align: left"> </td>
      <td style="text-align: left">0</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">SubscriptionType</code></td>
      <td style="text-align: left">Available options are <code class="highlighter-rouge">Exclusive</code>, <code class="highlighter-rouge">Shared</code>, and <code class="highlighter-rouge">Failover</code></td>
      <td style="text-align: left"><code class="highlighter-rouge">Exclusive</code></td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">MessageChannel</code></td>
      <td style="text-align: left">The Go channel used by the consumer. Messages that arrive from the Pulsar topic(s) will be passed to this channel.</td>
      <td style="text-align: left"> </td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">ReceiverQueueSize</code></td>
      <td style="text-align: left">Sets the size of the consumer’s receiver queue, i.e. the number of messages that can be accumulated by the consumer before the application calls <code class="highlighter-rouge">Receive</code>. A value higher than the default of 1000 could increase consumer throughput, though at the expense of more memory utilization.</td>
      <td style="text-align: left">1000</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">MaxTotalReceiverQueueSizeAcrossPartitions</code></td>
      <td style="text-align: left">Set the max total receiver queue size across partitions. This setting will be used to reduce the receiver queue size for individual partitions if the total exceeds this value</td>
      <td style="text-align: left">50000</td>
    </tr>
  </tbody>
</table>

<h2 id="readers">Readers</h2>

<p>Pulsar <span class="popover-term" tabindex="0" title="What is a Pulsar reader?" data-placement="top" data-content="Pulsar readers are message processors much like Pulsar consumers but with two crucial differences: (1) you can specify *where* on a topic readers begin processing messages (consumers always begin with the latest available unacked message); and (2) readers don't retain data or acknowledge messages." data-toggle="popover" data-trigger="focus">readers</span> process messages from Pulsar <span class="popover-term" tabindex="0" title="What is a topic?" data-placement="top" data-content="A named channel used to pass messages published by producers to consumers who process those messages." data-toggle="popover" data-trigger="focus">topics</span>. Readers are different from consumers because with readers you need to explicitly specify which message in the stream you want to begin with (consumers, on the other hand, automatically begin with the most recent unacked message). You can <a href="#reader-configuration">configure</a> Go readers using a <code class="highlighter-rouge">ReaderOptions</code> object. Here’s an example:</p>

<div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">reader</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">CreateReader</span><span class="p">(</span><span class="n">pulsar</span><span class="o">.</span><span class="n">ReaderOptions</span><span class="p">{</span><span class="x">
    </span><span class="n">Topic</span><span class="o">:</span><span class="x"> </span><span class="s">"my-golang-topic"</span><span class="p">,</span><span class="x">
    </span><span class="n">StartMessageId</span><span class="o">:</span><span class="x"> </span><span class="n">pulsar</span><span class="o">.</span><span class="n">LatestMessage</span><span class="p">,</span><span class="x">
</span><span class="p">})</span><span class="x">
</span></code></pre></div></div>

<!--

    Licensed to the Apache Software Foundation (ASF) under one
    or more contributor license agreements.  See the NOTICE file
    distributed with this work for additional information
    regarding copyright ownership.  The ASF licenses this file
    to you under the Apache License, Version 2.0 (the
    "License"); you may not use this file except in compliance
    with the License.  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing,
    software distributed under the License is distributed on an
    "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, either express or implied.  See the License for the
    specific language governing permissions and limitations
    under the License.

-->
<div class="admonition">
  <div class="info">
    <span class="admonition-title"><p>Blocking operation</p>
</span>
    <p>When you create a new Pulsar reader, the operation will block (on a go channel) until either a reader is successfully created or an error is thrown.</p>

  </div>
</div>

<h3 id="reader-operations">Reader operations</h3>

<p>Pulsar Go readers have the following methods available:</p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Method</th>
      <th style="text-align: left">Description</th>
      <th style="text-align: left">Return type</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Topic()</code></td>
      <td style="text-align: left">Returns the reader’s <span class="popover-term" tabindex="0" title="What is a topic?" data-placement="top" data-content="A named channel used to pass messages published by producers to consumers who process those messages." data-toggle="popover" data-trigger="focus">topic</span></td>
      <td style="text-align: left"><code class="highlighter-rouge">string</code></td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Next(context.Context)</code></td>
      <td style="text-align: left">Receives the next message on the topic (analogous to the <code class="highlighter-rouge">Receive</code> method for <a href="#consumer-operations">consumers</a>). This method blocks until a message is available.</td>
      <td style="text-align: left"><code class="highlighter-rouge">(Message, error)</code></td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Close()</code></td>
      <td style="text-align: left">Closes the reader, disabling its ability to receive messages from the broker</td>
      <td style="text-align: left"><code class="highlighter-rouge">error</code></td>
    </tr>
  </tbody>
</table>

<h4 id="next-example">“Next” example</h4>

<p>Here’s an example usage of a Go reader that uses the <code class="highlighter-rouge">Next()</code> method to process incoming messages:</p>

<div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span><span class="x"> </span><span class="p">(</span><span class="x">
    </span><span class="s">"context"</span><span class="x">
    </span><span class="s">"log"</span><span class="x">

    </span><span class="s">"github.com/apache/incubator-pulsar/pulsar-client-go/pulsar"</span><span class="x">
</span><span class="p">)</span><span class="x">

</span><span class="k">func</span><span class="x"> </span><span class="n">main</span><span class="p">()</span><span class="x"> </span><span class="p">{</span><span class="x">
    </span><span class="c">// Instantiate a Pulsar client</span><span class="x">
    </span><span class="n">client</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">pulsar</span><span class="o">.</span><span class="n">NewClient</span><span class="p">(</span><span class="n">pulsar</span><span class="o">.</span><span class="n">ClientOptions</span><span class="p">{</span><span class="x">
            </span><span class="n">URL</span><span class="o">:</span><span class="x"> </span><span class="s">"pulsar://localhost:6650"</span><span class="p">,</span><span class="x">
    </span><span class="p">})</span><span class="x">

    </span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x"> </span><span class="n">log</span><span class="o">.</span><span class="n">Fatalf</span><span class="p">(</span><span class="s">"Could not create client: %v"</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="p">)</span><span class="x"> </span><span class="p">}</span><span class="x">

    </span><span class="c">// Use the client to instantiate a reader</span><span class="x">
    </span><span class="n">reader</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">CreateReader</span><span class="p">(</span><span class="n">pulsar</span><span class="o">.</span><span class="n">ReaderOptions</span><span class="p">{</span><span class="x">
        </span><span class="n">Topic</span><span class="o">:</span><span class="x">          </span><span class="s">"my-golang-topic"</span><span class="p">,</span><span class="x">
        </span><span class="n">StartMessageID</span><span class="o">:</span><span class="x"> </span><span class="n">pulsar</span><span class="o">.</span><span class="n">EarliestMessage</span><span class="p">,</span><span class="x">
    </span><span class="p">})</span><span class="x">

    </span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x"> </span><span class="n">log</span><span class="o">.</span><span class="n">Fatalf</span><span class="p">(</span><span class="s">"Could not create reader: %v"</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="p">)</span><span class="x"> </span><span class="p">}</span><span class="x">

    </span><span class="k">defer</span><span class="x"> </span><span class="n">reader</span><span class="o">.</span><span class="n">Close</span><span class="p">()</span><span class="x">

    </span><span class="n">ctx</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">context</span><span class="o">.</span><span class="n">Background</span><span class="p">()</span><span class="x">

    </span><span class="c">// Listen on the topic for incoming messages</span><span class="x">
    </span><span class="k">for</span><span class="x"> </span><span class="p">{</span><span class="x">
        </span><span class="n">msg</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">reader</span><span class="o">.</span><span class="n">Next</span><span class="p">(</span><span class="n">ctx</span><span class="p">)</span><span class="x">
        </span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x"> </span><span class="n">log</span><span class="o">.</span><span class="n">Fatalf</span><span class="p">(</span><span class="s">"Error reading from topic: %v"</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="p">)</span><span class="x"> </span><span class="p">}</span><span class="x">

        </span><span class="c">// Process the message</span><span class="x">
    </span><span class="p">}</span><span class="x">
</span><span class="p">}</span><span class="x">
</span></code></pre></div></div>

<p>In the example above, the reader begins reading from the earliest available message (specified by <code class="highlighter-rouge">pulsar.EarliestMessage</code>). The reader can also begin reading from the latest message (<code class="highlighter-rouge">pulsar.LatestMessage</code>) or some other message ID specified by bytes using the <code class="highlighter-rouge">DeserializeMessageID</code> function, which takes a byte array and returns a <code class="highlighter-rouge">MessageID</code> object. Here’s an example:</p>

<div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">lastSavedId</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="c">// Read last saved message id from external store as byte[]</span><span class="x">

</span><span class="n">reader</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">CreateReader</span><span class="p">(</span><span class="n">pulsar</span><span class="o">.</span><span class="n">ReaderOptions</span><span class="p">{</span><span class="x">
    </span><span class="n">Topic</span><span class="o">:</span><span class="x">          </span><span class="s">"my-golang-topic"</span><span class="p">,</span><span class="x">
    </span><span class="n">StartMessageID</span><span class="o">:</span><span class="x"> </span><span class="n">DeserializeMessageID</span><span class="p">(</span><span class="n">lastSavedId</span><span class="p">),</span><span class="x">
</span><span class="p">})</span><span class="x">
</span></code></pre></div></div>

<h3 id="reader-configuration">Reader configuration</h3>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Parameter</th>
      <th style="text-align: left">Description</th>
      <th style="text-align: left">Default</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Topic</code></td>
      <td style="text-align: left">The Pulsar <span class="popover-term" tabindex="0" title="What is a topic?" data-placement="top" data-content="A named channel used to pass messages published by producers to consumers who process those messages." data-toggle="popover" data-trigger="focus">topic</span> on which the reader will establish a subscription and listen for messages</td>
      <td style="text-align: left"> </td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Name</code></td>
      <td style="text-align: left">The name of the reader</td>
      <td style="text-align: left"> </td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">StartMessageID</code></td>
      <td style="text-align: left">THe initial reader position, i.e. the message at which the reader begins processing messages. The options are <code class="highlighter-rouge">pulsar.EarliestMessage</code> (the earliest available message on the topic), <code class="highlighter-rouge">pulsar.LatestMessage</code> (the latest available message on the topic), or a <code class="highlighter-rouge">MessageID</code> object for a position that isn’t earliest or latest.</td>
      <td style="text-align: left"> </td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">MessageChannel</code></td>
      <td style="text-align: left">The Go channel used by the reader. Messages that arrive from the Pulsar topic(s) will be passed to this channel.</td>
      <td style="text-align: left"> </td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">ReceiverQueueSize</code></td>
      <td style="text-align: left">Sets the size of the reader’s receiver queue, i.e. the number of messages that can be accumulated by the reader before the application calls <code class="highlighter-rouge">Next</code>. A value higher than the default of 1000 could increase reader throughput, though at the expense of more memory utilization.</td>
      <td style="text-align: left">1000</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">SubscriptionRolePrefix</code></td>
      <td style="text-align: left">The subscription role prefix.</td>
      <td style="text-align: left"><code class="highlighter-rouge">reader</code></td>
    </tr>
  </tbody>
</table>

<h2 id="messages">Messages</h2>

<p>The Pulsar Go client provides a <code class="highlighter-rouge">ProducerMessage</code> interface that you can use to construct messages to producer on Pulsar topics. Here’s an example message:</p>

<div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">msg</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">pulsar</span><span class="o">.</span><span class="n">ProducerMessage</span><span class="p">{</span><span class="x">
    </span><span class="n">Payload</span><span class="o">:</span><span class="x"> </span><span class="p">[]</span><span class="kt">byte</span><span class="p">(</span><span class="s">"Here is some message data"</span><span class="p">),</span><span class="x">
    </span><span class="n">Key</span><span class="o">:</span><span class="x"> </span><span class="s">"message-key"</span><span class="p">,</span><span class="x">
    </span><span class="n">Properties</span><span class="o">:</span><span class="x"> </span><span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">string</span><span class="p">{</span><span class="x">
        </span><span class="s">"foo"</span><span class="o">:</span><span class="x"> </span><span class="s">"bar"</span><span class="p">,</span><span class="x">
    </span><span class="p">},</span><span class="x">
    </span><span class="n">EventTime</span><span class="o">:</span><span class="x"> </span><span class="n">time</span><span class="o">.</span><span class="n">Now</span><span class="p">(),</span><span class="x">
    </span><span class="n">ReplicationClusters</span><span class="o">:</span><span class="x"> </span><span class="p">[]</span><span class="kt">string</span><span class="p">{</span><span class="s">"cluster1"</span><span class="p">,</span><span class="x"> </span><span class="s">"cluster3"</span><span class="p">},</span><span class="x">
</span><span class="p">}</span><span class="x">

</span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">producer</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="n">msg</span><span class="p">);</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
    </span><span class="n">log</span><span class="o">.</span><span class="n">Fatalf</span><span class="p">(</span><span class="s">"Could not publish message due to: %v"</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="p">)</span><span class="x">
</span><span class="p">}</span><span class="x">
</span></code></pre></div></div>

<p>The following methods parameters are available for <code class="highlighter-rouge">ProducerMessage</code> objects:</p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Parameter</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Payload</code></td>
      <td style="text-align: left">The actual data payload of the message</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Key</code></td>
      <td style="text-align: left">The optional key associated with the message (particularly useful for things like topic compaction)</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Properties</code></td>
      <td style="text-align: left">A key-value map (both keys and values must be strings) for any application-specific metadata attached to the message</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">EventTime</code></td>
      <td style="text-align: left">The timestamp associated with the message</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">ReplicationClusters</code></td>
      <td style="text-align: left">The clusters to which this message will be replicated. Pulsar brokers handle message replication automatically; you should only change this setting if you want to override the broker default.</td>
    </tr>
  </tbody>
</table>

<h2 id="tls">TLS encryption and authentication</h2>

<p>In order to use <a href="../../security/tls">TLS encryption</a>, you’ll need to configure your client to do so:</p>

<ul>
  <li>Use <code class="highlighter-rouge">pulsar+ssl</code> URL type</li>
  <li>Set <code class="highlighter-rouge">TLSTrustCertsFilePath</code> to the path to the TLS certs used by your client and the Pulsar <span class="popover-term" tabindex="0" title="What is a broker?" data-placement="top" data-content="A stateless component of Pulsar clusters that runs two other components: an HTTP server exposing a REST interface for administration and topic lookup and a dispatcher that handles all message transers. Pulsar clusters typically consist of multiple brokers." data-toggle="popover" data-trigger="focus">broker</span></li>
  <li>Configure <code class="highlighter-rouge">Authentication</code> option</li>
</ul>

<p>Here’s an example:</p>

<div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">opts</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">pulsar</span><span class="o">.</span><span class="n">ClientOptions</span><span class="p">{</span><span class="x">
    </span><span class="n">URL</span><span class="o">:</span><span class="x"> </span><span class="s">"pulsar+ssl://my-cluster.com:6651"</span><span class="p">,</span><span class="x">
    </span><span class="n">TLSTrustCertsFilePath</span><span class="o">:</span><span class="x"> </span><span class="s">"/path/to/certs/my-cert.csr"</span><span class="p">,</span><span class="x">
    </span><span class="n">Authentication</span><span class="o">:</span><span class="x"> </span><span class="n">NewAuthenticationTLS</span><span class="p">(</span><span class="s">"my-cert.pem"</span><span class="p">,</span><span class="x"> </span><span class="s">"my-key.pem"</span><span class="p">),</span><span class="x">
</span><span class="p">}</span><span class="x">
</span></code></pre></div></div>

      </section>
    </article>

    <nav class="toc-bar hidden-md-down col-lg-2">
      
      <div id="toc">
        <h4>The Pulsar Go client</h4>
      </div>
      
    </nav>
  </div>
</div>

      </main>
    </main>

    <!--

    Licensed to the Apache Software Foundation (ASF) under one
    or more contributor license agreements.  See the NOTICE file
    distributed with this work for additional information
    regarding copyright ownership.  The ASF licenses this file
    to you under the Apache License, Version 2.0 (the
    "License"); you may not use this file except in compliance
    with the License.  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing,
    software distributed under the License is distributed on an
    "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, either express or implied.  See the License for the
    specific language governing permissions and limitations
    under the License.

-->
<footer class="footer">
  <div class="container">
    <p class="text-center">Copyright 2019 The Apache Software Foundation. All Rights Reserved.</p>
    <p class="text-center">Apache, Apache Pulsar and the Apache feather logo are trademarks of The Apache Software Foundation.</p>
  </div>
</footer>


    

    
    <!--

    Licensed to the Apache Software Foundation (ASF) under one
    or more contributor license agreements.  See the NOTICE file
    distributed with this work for additional information
    regarding copyright ownership.  The ASF licenses this file
    to you under the Apache License, Version 2.0 (the
    "License"); you may not use this file except in compliance
    with the License.  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing,
    software distributed under the License is distributed on an
    "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, either express or implied.  See the License for the
    specific language governing permissions and limitations
    under the License.

-->

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-102219959-1', 'auto');
  ga('send', 'pageview');
</script>

    

    <script type="text/javascript">
      var navbarOffset = -1 * (document.getElementsByClassName("navbar")[0].offsetHeight);
      var shiftWindow = function() { scrollBy(0, navbarOffset) };
      window.addEventListener("hashchange", shiftWindow);
      window.addEventListener("pageshow", shiftWindow);
      function load() { if (window.location.hash) shiftWindow(); }
    </script>
  </body>
</html>
